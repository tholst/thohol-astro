---
import ToolPage from '../../layouts/ToolPage.astro';
import { getCollection, render } from 'astro:content';
import { FEATURES } from '../../config/features';

export async function getStaticPaths() {
  if (!FEATURES.tools) {
    return [];
  }

  const tools = await getCollection('tools');
  const filteredTools = import.meta.env.PROD
    ? tools.filter((tool) => tool.data.published !== false)
    : tools;

  return filteredTools.map((tool) => ({
    params: { slug: tool.id },
    props: { tool },
  }));
}

const { tool } = Astro.props;
const { Content } = await render(tool);
const isSubnetPlanner = tool.id === 'subnet-planner';
const isColorContrastChecker = tool.id === 'color-contrast-checker';
const isRegexPlayground = tool.id === 'regex-playground';
const isCssGradientBuilder = tool.id === 'css-gradient-builder';
const isNestedBorderRadiusCalculator =
  tool.id === 'nested-border-radius-calculator';
const isTimezoneMeetingPlanner = tool.id === 'timezone-meeting-planner';
const isInteractiveTool =
  isSubnetPlanner ||
  isColorContrastChecker ||
  isRegexPlayground ||
  isCssGradientBuilder ||
  isNestedBorderRadiusCalculator ||
  isTimezoneMeetingPlanner;

const createdAt = tool.data.createdAt ?? tool.data.updatedAt;
---

<ToolPage
  pageTitle={`${tool.data.title} · Tools`}
  description={tool.data.description}
  title={tool.data.title}
  toolId={tool.id}
  createdAt={createdAt}
  updatedAt={tool.data.updatedAt}
  transitionName={'tool-title-' + tool.id}
>
  {
    !isInteractiveTool && (
      <article class="prose tool-prose">
        <Content />
      </article>
    )
  }

  {
    isSubnetPlanner && (
      <section class="tool-card" aria-label="Subnet Planner">
        <h2>Planner</h2>
        <p>
          Updates live while you type. Slider controls subnet size from one
          large subnet to the maximum possible split.
        </p>

        <form id="subnet-form" class="planner-form">
          <label>
            Base CIDR
            <input name="baseCidr" value="10.42.0.0/16" required />
          </label>

          <label>
            Number of required subnets
            <input
              name="count"
              type="number"
              min="1"
              max="65535"
              value="8"
              required
            />
          </label>

          <label class="slider-field full-row">
            Subnet split (IPs per subnet)
            <input
              id="splitLevel"
              name="splitLevel"
              type="range"
              min="0"
              max="16"
              value="8"
              step="1"
            />
            <div class="slider-scale">
              <span>1 subnet</span>
              <span>Maximum subnets</span>
            </div>
            <small id="splitSummary">
              /24 · 256 IPs/subnet · max 256 subnets
            </small>
          </label>

          <label class="full-row">
            Subnet name prefix
            <input name="namePrefix" value="subnet" />
          </label>

          <label class="full-row">
            Names (optional, comma-separated)
            <input
              name="names"
              value="hub-shared,aks-nodes,aks-pods,agw-ingress,bastion,azure-firewall,private-endpoints,data-services"
              placeholder="app, data, ingress, batch"
            />
          </label>
        </form>

        <p id="subnet-message" class="tool-message" aria-live="polite">
          {' '}
        </p>

        <div class="results-box">
          <div class="results-header">
            <h3>Generated subnets</h3>
            <button
              type="button"
              id="copy-subnets"
              class="copy-icon"
              aria-label="Copy name and CIDR list"
              title="Copy name + CIDR"
              disabled
            >
              ⧉
            </button>
          </div>

          <div class="table-wrap">
            <table id="subnet-table" hidden>
              <thead>
                <tr>
                  <th>Name</th>
                  <th>CIDR</th>
                  <th>Network</th>
                  <th>First usable</th>
                  <th>Last usable</th>
                  <th>Broadcast</th>
                  <th>Hosts</th>
                </tr>
              </thead>
              <tbody>
                <tr hidden />
              </tbody>
            </table>
          </div>
        </div>
      </section>
    )
  }

  {
    isColorContrastChecker && (
      <section class="tool-card" aria-label="Color Contrast Checker">
        <h2>Checker</h2>
        <p>
          Compare foreground and background colors with WCAG contrast checks for
          normal and large text.
        </p>

        <form id="contrast-form" class="planner-form contrast-form">
          <label>
            Foreground color
            <input name="foregroundHex" value="#101828" />
          </label>
          <label>
            Background color
            <input name="backgroundHex" value="#ffffff" />
          </label>
          <label>
            Foreground picker
            <input name="foregroundPicker" type="color" value="#101828" />
          </label>
          <label>
            Background picker
            <input name="backgroundPicker" type="color" value="#ffffff" />
          </label>
        </form>

        <div class="inline-actions">
          <button type="button" id="swap-contrast" class="secondary-btn">
            Swap colors
          </button>
        </div>

        <p id="contrast-message" class="tool-message" aria-live="polite">
          {' '}
        </p>

        <div id="contrast-preview" class="contrast-preview">
          <p class="preview-title">Preview text</p>
          <p>
            Fast software teams ship often. Accessible interfaces keep every
            user in the loop.
          </p>
        </div>

        <div class="results-box">
          <h3>Accessibility status</h3>
          <ul id="contrast-results" class="status-list">
            <li hidden />
          </ul>
        </div>
      </section>
    )
  }

  {
    isRegexPlayground && (
      <section class="tool-card" aria-label="Regex Playground">
        <h2>Playground</h2>
        <p>
          Test expressions with live matches, capture groups, and highlighted
          text output.
        </p>

        <form id="regex-form" class="planner-form regex-form">
          <label>
            Pattern
            <input name="pattern" value="\\b[A-Z][a-z]+\\b" />
          </label>
          <label>
            Flags
            <input name="flags" value="g" placeholder="gim" />
          </label>
          <label class="full-row">
            Test text
            <textarea name="sample" rows="8">{`Alice met Bob in Berlin.
Error: Timeout at 14:32.
Owner: Charlie.`}</textarea>
          </label>
        </form>

        <p id="regex-message" class="tool-message" aria-live="polite">
          {' '}
        </p>

        <div class="results-box">
          <h3>Highlighted output</h3>
          <pre id="regex-highlight" class="regex-highlight">
            {' '}
          </pre>
        </div>

        <div class="results-box">
          <h3>Matches</h3>
          <ul id="regex-matches" class="match-list">
            <li hidden />
          </ul>
        </div>
      </section>
    )
  }

  {
    isCssGradientBuilder && (
      <section class="tool-card" aria-label="CSS Gradient Builder">
        <h2>Builder</h2>
        <p>
          Tune gradient stops visually, preview instantly, and copy the final
          CSS value.
        </p>

        <form id="gradient-form" class="planner-form gradient-form">
          <label>
            Gradient type
            <select name="gradientType">
              <option value="linear">Linear</option>
              <option value="radial">Radial</option>
            </select>
          </label>
          <label id="angle-field">
            Angle (degrees)
            <input
              name="angle"
              type="range"
              min="0"
              max="360"
              value="135"
              step="1"
            />
            <small id="angle-value">135deg</small>
          </label>

          <label>
            Color stop 1
            <input name="color1" type="color" value="#003049" />
          </label>
          <label>
            Stop 1 position (%)
            <input
              name="stop1"
              type="range"
              min="0"
              max="100"
              value="0"
              step="1"
            />
            <small id="stop1-value">0%</small>
          </label>
          <label>
            Color stop 2
            <input name="color2" type="color" value="#f77f00" />
          </label>
          <label>
            Stop 2 position (%)
            <input
              name="stop2"
              type="range"
              min="0"
              max="100"
              value="52"
              step="1"
            />
            <small id="stop2-value">52%</small>
          </label>
          <label>
            Color stop 3
            <input name="color3" type="color" value="#fcbf49" />
          </label>
          <label>
            Stop 3 position (%)
            <input
              name="stop3"
              type="range"
              min="0"
              max="100"
              value="100"
              step="1"
            />
            <small id="stop3-value">100%</small>
          </label>
        </form>

        <p id="gradient-message" class="tool-message" aria-live="polite">
          {' '}
        </p>

        <div id="gradient-preview" class="gradient-preview">
          {' '}
        </div>

        <div class="results-box">
          <div class="results-header">
            <h3>Generated CSS</h3>
            <button
              type="button"
              id="copy-gradient"
              class="copy-icon"
              aria-label="Copy CSS"
              title="Copy CSS"
            >
              ⧉
            </button>
          </div>
          <pre id="gradient-output" class="gradient-output">
            {' '}
          </pre>
        </div>
      </section>
    )
  }

  {
    isNestedBorderRadiusCalculator && (
      <section
        class="tool-card radius-tool"
        aria-label="Nested Border Radius Calculator"
      >
        <h2>Calculator + Live Examples</h2>
        <p>
          Calculate inner radius from outer radius and inset:{' '}
          <code>inner = max(outer - inset, 0)</code>. This is useful for nested
          cards, tags, and chip icons.
        </p>

        <form id="radius-form" class="planner-form radius-form">
          <label class="radius-slider radius-slider--outer">
            <span class="radius-slider-row">
              <span>Outer radius</span>
              <strong id="radius-outer-value">24px</strong>
            </span>
            <input
              id="radius-outer"
              name="outerRadius"
              type="range"
              min="0"
              max="180"
              value="24"
              step="1"
            />
          </label>

          <label class="radius-slider radius-slider--padding">
            <span class="radius-slider-row">
              <span>Padding</span>
              <strong id="radius-inset-value">8px</strong>
            </span>
            <input
              id="radius-inset"
              name="inset"
              type="range"
              min="0"
              max="80"
              value="8"
              step="1"
            />
          </label>

          <label class="radius-slider radius-slider--inner">
            <span class="radius-slider-row">
              <span>Inner radius</span>
              <strong id="radius-inner-value">16px</strong>
            </span>
            <input
              id="radius-inner"
              name="innerRadius"
              type="range"
              min="0"
              max="180"
              value="16"
              step="1"
            />
          </label>
        </form>

        <p id="radius-message" class="tool-message" aria-live="polite">
          {' '}
        </p>

        <section class="radius-examples" aria-label="Interactive examples">
          <article class="radius-demo-card">
            <p class="radius-zoom-label">1x zoom</p>
            <div class="radius-zoom radius-zoom--card" data-scale="1">
              <div class="demo-card-outer">
                <div class="demo-card-inner">
                  Inner card keeps a matched corner curve.
                </div>
              </div>
            </div>
          </article>

          <article class="radius-demo-card">
            <p class="radius-zoom-label">2x zoom</p>
            <div class="radius-zoom radius-zoom--card" data-scale="2">
              <div class="demo-card-outer">
                <div class="demo-card-inner">
                  Inner card keeps a matched corner curve.
                </div>
              </div>
            </div>
          </article>

          <article class="radius-demo-card">
            <p class="radius-zoom-label">4x zoom</p>
            <div class="radius-zoom radius-zoom--card" data-scale="4">
              <div class="demo-card-outer">
                <div class="demo-card-inner">
                  Inner card keeps a matched corner curve.
                </div>
              </div>
            </div>
          </article>
        </section>

        <div class="results-box">
          <h3>CSS snippets</h3>
          <pre id="radius-css" class="gradient-output">
            {' '}
          </pre>
        </div>
      </section>
    )
  }

  {
    isTimezoneMeetingPlanner && (
      <section class="tool-card" aria-label="Timezone Meeting Planner">
        <h2>Planner</h2>
        <p>
          Add each participant as a row with timezone and local availability,
          then inspect shared overlap windows in a single timeline.
        </p>

        <section
          id="timezone-rows"
          class="timezone-rows"
          aria-label="Timezone rows"
        />

        <div class="inline-actions">
          <button type="button" id="add-timezone-row" class="secondary-btn">
            Add row
          </button>
        </div>

        <p id="timezone-message" class="tool-message" aria-live="polite">
          {' '}
        </p>

        <div class="results-box">
          <h3>Overlap windows (UTC)</h3>
          <ul id="timezone-overlap-list" class="match-list">
            <li hidden />
          </ul>
        </div>

        <div class="results-box">
          <h3>Availability diagram</h3>
          <div
            id="timezone-scales"
            class="timezone-scales"
            aria-hidden="true"
          />
          <div id="timezone-chart" class="timezone-chart" />
        </div>
      </section>
    )
  }
</ToolPage>

<style>
  .tool-prose {
    margin-top: 1rem;
    padding-top: 0.9rem;
  }

  .tool-card {
    margin-top: 1rem;
    padding-top: 0.2rem;
  }

  .planner-form {
    display: grid;
    gap: 0.75rem;
    margin-top: 0.7rem;
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .planner-form label {
    display: grid;
    gap: 0.35rem;
    font-size: 0.9rem;
    color: var(--ink-soft);
  }

  .planner-form .full-row {
    grid-column: 1 / -1;
  }

  .planner-form input,
  .planner-form textarea,
  .planner-form select {
    border: 1px solid var(--line);
    border-radius: 6px;
    padding: 0.42rem 0.55rem;
    font: inherit;
    color: var(--ink);
    background: #fff;
  }

  .planner-form input[type='range'] {
    padding: 0;
  }

  .slider-field small {
    color: var(--ink-soft);
    font-family: var(--font-mono);
    font-size: 0.78rem;
  }

  .slider-scale {
    display: flex;
    justify-content: space-between;
    color: var(--ink-soft);
    font-size: 0.75rem;
  }

  .tool-message {
    margin: 0.8rem 0 0;
    color: var(--ink-soft);
    min-height: 1.2em;
  }

  .results-box {
    margin-top: 0.75rem;
    border: 1px solid var(--line);
    border-radius: 10px;
    padding: 0.6rem 0.6rem 0.2rem;
    background: #fff;
  }

  .results-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.45rem;
  }

  .results-box h3,
  .results-header h3 {
    margin: 0;
    font-size: 0.82rem;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    color: var(--ink-soft);
    font-family: var(--font-mono);
  }

  .copy-icon {
    inline-size: 1.8rem;
    block-size: 1.8rem;
    display: inline-grid;
    place-items: center;
    border: 1px solid var(--line);
    border-radius: 6px;
    background: #fff;
    color: var(--ink-soft);
    font-size: 1rem;
    line-height: 1;
    padding: 0;
    cursor: pointer;
  }

  .copy-icon:hover:not(:disabled) {
    border-color: var(--ink-soft);
    color: var(--ink);
  }

  .copy-icon:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .table-wrap {
    overflow-x: auto;
    margin-top: 0.5rem;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9rem;
  }

  th,
  td {
    border-bottom: 1px solid var(--line);
    padding: 0.45rem 0.3rem;
    text-align: left;
    white-space: nowrap;
  }

  td:first-child,
  th:first-child {
    position: sticky;
    left: 0;
    background: #fff;
  }

  .inline-actions {
    margin-top: 0.75rem;
  }

  .secondary-btn {
    border: 1px solid var(--line);
    border-radius: 999px;
    background: #fff;
    padding: 0.32rem 0.7rem;
    cursor: pointer;
    font: inherit;
    color: var(--ink-soft);
  }

  .secondary-btn:hover {
    color: var(--ink);
    border-color: var(--accent);
  }

  .contrast-preview {
    margin-top: 0.6rem;
    border: 1px solid var(--line);
    border-radius: 10px;
    padding: 0.8rem;
  }

  .contrast-preview .preview-title {
    margin: 0 0 0.3rem;
    font-family: var(--font-mono);
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.03em;
  }

  .status-list,
  .match-list {
    margin: 0.6rem 0 0.3rem;
    padding-left: 1.1rem;
  }

  .status-list li,
  .match-list li {
    margin: 0.25rem 0;
    color: var(--ink-soft);
  }

  .regex-highlight,
  .gradient-output {
    margin-top: 0.6rem;
    border: 1px solid var(--line);
    border-radius: 8px;
    padding: 0.6rem;
    background: #f7f8fb;
    white-space: pre-wrap;
    word-break: break-word;
    min-height: 3.4rem;
  }

  .regex-highlight mark {
    background: rgba(250, 204, 21, 0.34);
    border-radius: 3px;
    padding: 0.05rem 0.12rem;
  }

  .gradient-preview {
    margin-top: 0.6rem;
    height: 170px;
    border-radius: 10px;
    border: 1px solid var(--line);
  }

  .radius-tool {
    --radius-outer-color: #0f766e;
    --radius-outer-color-soft: rgba(15, 118, 110, 0.45);
    --radius-padding-color: #2563eb;
    --radius-inner-color: #d946ef;
  }

  .radius-form {
    grid-template-columns: 1fr;
    gap: 0.5rem;
    margin-top: 0.6rem;
  }

  .radius-form .radius-slider {
    gap: 0.25rem;
  }

  .radius-slider-row {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 0.5rem;
  }

  .radius-slider-row strong {
    font-family: var(--font-mono);
    font-size: 0.8rem;
    color: var(--ink);
    line-height: 1.1;
  }

  .radius-form #radius-outer {
    accent-color: var(--radius-outer-color);
  }

  .radius-form #radius-inset {
    accent-color: var(--radius-padding-color);
  }

  .radius-form #radius-inner {
    accent-color: var(--radius-inner-color);
  }

  .radius-form .radius-slider--outer .radius-slider-row strong {
    color: var(--radius-outer-color);
  }

  .radius-form .radius-slider--padding .radius-slider-row strong {
    color: var(--radius-padding-color);
  }

  .radius-form .radius-slider--inner .radius-slider-row strong {
    color: var(--radius-inner-color);
  }

  .radius-form small,
  .radius-form .radius-slider-row span {
    color: var(--ink-soft);
    font-size: 0.82rem;
  }

  .radius-examples {
    margin-top: 0.75rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
  }

  .radius-demo-card {
    flex: 0 0 auto;
  }

  .radius-zoom {
    --zoom-pad: 22px;
    margin-top: 0.55rem;
    position: relative;
    border: 1px dashed color-mix(in srgb, var(--line) 72%, #155eef);
    border-radius: 12px;
    overflow: hidden;
    background:
      linear-gradient(rgba(21, 94, 239, 0.08) 1px, transparent 1px),
      linear-gradient(90deg, rgba(21, 94, 239, 0.08) 1px, transparent 1px),
      #f8fbff;
    background-size:
      18px 18px,
      18px 18px,
      auto;
    aspect-ratio: 1 / 1;
    inline-size: 220px;
    min-height: 0;
    max-width: 220px;
    padding: 0;
    isolation: isolate;
  }

  .radius-zoom-label {
    margin: 0 0 0.35rem;
    font-family: var(--font-mono);
    font-size: 0.72rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: color-mix(in srgb, var(--ink-soft) 75%, #155eef);
    max-width: 220px;
    text-align: right;
  }

  .radius-zoom > * {
    position: relative;
    z-index: 1;
  }

  .radius-zoom--card {
    min-height: 190px;
  }

  .demo-card-outer {
    --card-inset: 8px;
    --card-size: 1200px;
    --card-scale: 1;
    position: absolute;
    left: var(--zoom-pad);
    top: var(--zoom-pad);
    border: 0;
    box-shadow: none;
    background: var(--radius-padding-color, #2563eb);
    padding: var(--card-inset);
    inline-size: var(--card-size);
    min-block-size: var(--card-size);
    transform: scale(var(--card-scale));
    transform-origin: top left;
  }

  .demo-card-inner {
    border: 0;
    box-shadow: none;
    background: var(--radius-inner-color, #d946ef);
    padding: 0;
    min-block-size: calc(var(--card-size) - (var(--card-inset) * 2));
    color: transparent;
    font-size: 0;
    line-height: 0;
    user-select: none;
  }

  .radius-zoom--card {
    background:
      linear-gradient(
        var(--radius-outer-color-soft, rgba(15, 118, 110, 0.14)),
        var(--radius-outer-color-soft, rgba(15, 118, 110, 0.14))
      ),
      linear-gradient(rgba(21, 94, 239, 0.08) 1px, transparent 1px),
      linear-gradient(90deg, rgba(21, 94, 239, 0.08) 1px, transparent 1px),
      #f8fbff;
    background-size:
      auto,
      18px 18px,
      18px 18px,
      auto;
  }

  :global(.timezone-rows) {
    margin-top: 0.7rem;
    display: grid;
    gap: 0.55rem;
  }

  :global(.timezone-row) {
    display: grid;
    gap: 0.55rem;
    grid-template-columns:
      minmax(0, 2.2fr) minmax(120px, 1fr) minmax(120px, 1fr)
      auto;
    align-items: end;
    padding: 0.55rem;
    border: 1px solid var(--line);
    border-radius: 8px;
    background: #fff;
  }

  :global(.timezone-row label) {
    display: grid;
    gap: 0.28rem;
    color: var(--ink-soft);
    font-size: 0.82rem;
  }

  :global(.timezone-scale) {
    display: grid;
    grid-template-columns: minmax(210px, 300px) minmax(0, 1fr);
    color: var(--ink-soft);
    font-family: var(--font-mono);
    font-size: 0.74rem;
    margin-top: 0.35rem;
  }

  :global(.timezone-scales) {
    display: grid;
    gap: 0.25rem;
    margin-top: 0.35rem;
    padding-bottom: 0.25rem;
    border-bottom: 1px solid var(--line);
  }

  :global(.timeline-groups) {
    margin-top: 0.65rem;
    display: grid;
    gap: 0.85rem;
  }

  :global(.timeline-group) {
    display: grid;
    gap: 0.35rem;
  }

  :global(.timezone-scale .scale-label) {
    display: flex;
    align-items: baseline;
    gap: 0.45rem;
    font-size: 0.78rem;
    color: var(--ink-soft);
    line-height: 1.25;
  }

  :global(.timezone-scale .scale-label strong) {
    color: var(--ink);
    font-weight: 650;
  }

  :global(.timezone-scale .scale-label small) {
    opacity: 0.85;
    font-size: 0.72rem;
  }

  :global(.timezone-scale .scale-spacer) {
    display: block;
  }

  :global(.timezone-scale .scale-ticks) {
    position: relative;
    height: 1.2em;
    min-width: 0;
  }

  :global(.timezone-scale .scale-ticks span) {
    white-space: nowrap;
    position: absolute;
    top: 0;
  }

  :global(.timezone-scale .scale-ticks span[data-daydelta='-1'])::after,
  :global(.timezone-scale .scale-ticks span[data-daydelta='1'])::after {
    content: attr(data-daydelta-label);
    margin-left: 0.3rem;
    font-size: 0.68rem;
    opacity: 0.7;
  }

  :global(.timezone-scale .scale-ticks span:last-child) {
    text-align: right;
  }

  :global(.timezone-chart) {
    margin-top: 0.4rem;
    display: grid;
    gap: 0.45rem;
  }

  :global(.timezone-chart .utc-overlap-row) {
    margin-top: 0.35rem;
  }

  :global(.timeline-row) {
    display: grid;
    grid-template-columns: minmax(210px, 300px) minmax(0, 1fr);
    align-items: center;
    gap: 0.6rem;
  }

  :global(.timeline-label) {
    font-size: 0.78rem;
    color: var(--ink-soft);
    font-family: var(--font-mono);
    line-height: 1.35;
  }

  :global(.timeline-bar) {
    position: relative;
    height: 16px;
    border: 1px solid var(--line);
    border-radius: 0;
    background: repeating-linear-gradient(
        to right,
        rgba(16, 24, 40, 0.12) 0,
        rgba(16, 24, 40, 0.12) 1px,
        transparent 1px,
        transparent calc(100% / 24)
      )
      #f8fafc;
    overflow: hidden;
  }

  :global(.timeline-major-tick) {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 2px;
    transform: translateX(-1px);
    background: rgba(16, 24, 40, 0.24);
    pointer-events: none;
    z-index: 1;
  }

  :global(.timeline-major-tick.timeline-major-tick-boundary) {
    width: 3px;
    transform: translateX(-1.5px);
    background: rgba(16, 24, 40, 0.34);
  }

  :global(.timeline-segment) {
    position: absolute;
    top: 2px;
    height: calc(100% - 4px);
    border-radius: 999px;
    z-index: 2;
  }

  :global(.timeline-segment-row) {
    background: rgba(29, 78, 216, 0.75);
  }

  :global(.timeline-segment-overlap) {
    background: rgba(21, 128, 61, 0.82);
  }

  @media (max-width: 780px) {
    .planner-form {
      grid-template-columns: 1fr;
    }

    .radius-zoom {
      inline-size: min(100%, 220px);
    }

    :global(.timezone-row) {
      grid-template-columns: 1fr;
      align-items: stretch;
    }

    :global(.timeline-row) {
      grid-template-columns: 1fr;
      gap: 0.22rem;
    }

    :global(.timezone-scale) {
      grid-template-columns: 1fr;
    }

    :global(.timezone-scale .scale-spacer) {
      display: none;
    }

    :global(.timeline-groups) {
      gap: 0.75rem;
    }
  }
</style>

<script>
  import '../../scripts/tools/index.ts';
</script>
